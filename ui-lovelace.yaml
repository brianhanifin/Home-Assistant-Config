decluttering_templates:
  calendar:
    card:
      dateSize: 130
      entities:
      - entity: calendar.local
        name: Local
      - color: var(--state-home-color)
        entity: calendar.us_holidays
        name: Holidays
      - color: var(--state-icon-active-color)
        entity: calendar.birthdays_anniversary
        name: Milestones
      - color: var(--label-badge-green)
        entity: calendar.brian
        name: Brian
      - blocklist: creative market
        color: var(--secondary-text-color)
        entity: calendar.nerene
        name: Nerene
      - color: var(--label-badge-yellow)
        entity: calendar.hanifins
        name: Hanifin's
      - blocklist: Period
        color: var(--primary-text-color)
        entity: calendar.kyle
        name: Kyle
      - blocklist: Advisory,Period
        color: var(--label-badge-red)
        entity: calendar.lucas
        name: Lucas
      eventTitleSize: 130
      firstDayOfWeek: 1
      maxDaysToShow: '[[days]]'
      timeSize: 100
      type: custom:atomic-calendar-revive
    default:
      days: 2
  calendar_popup:
    card:
      cards:
      - subtitle: '{{- now().strftime("%A") ~ ", " }}

          {{- now().strftime("%B") ~ " " }}

          {{- now().day ~ ", " }}

          {{- now().year }}

          '
        type: custom:mushroom-title-card
      - template: calendar
        type: custom:decluttering-card
        variables:
        - days: '[[days]]'
      type: vertical-stack
    default:
      days: 7
  event:
    card:
      cards:
      - subtitle: '[[label]]'
        title: '[[name]]'
        type: custom:mushroom-title-card
      - cards:
        - entity: input_boolean.event_enabled_[[id]]
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.event_skipnext_[[id]]
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - cards:
        - canary_style:
            border: none;
          entities: '[[sensors]]'
          state_color: true
          type: entities
        - canary_style:
            border: none;
          entities:
          - type: divider
          - entities:
            - entity: input_select.event_speakers_[[id]]
            - entity: input_datetime.event_1st_[[id]]
            - entity: input_datetime.event_2nd_[[id]]
            head: input_boolean.event_announcement_[[id]]
            type: custom:fold-entity-row
          show_header_toggle: false
          state_color: true
          type: entities
        - canary_style:
            border: none;
          entities:
          - entities:
            - entity: input_select.event_light_[[id]]
            - entity: input_datetime.event_light_[[id]]
            head: input_boolean.event_light_[[id]]
            type: custom:fold-entity-row
          show_header_toggle: false
          state_color: true
          style: "ha-card {\n  padding-top: 16px !important;\n}\n:host {\n  display:\
            \ {{ \"block\" if \"wakeup\" in \"[[id]]\" else \"none\" }};\n}\n"
          type: entities
        in_card: true
        type: vertical-stack
      type: vertical-stack
    default:
      label: ''
      name: ''
  floor_climate:
    card:
      cards:
      - title: '[[floor]] climate'
        type: custom:mushroom-title-card
      - cards:
        - cards:
          - subtitle: Temperature average
            type: custom:mushroom-title-card
          - canary_style:
              border: none;
            entities:
            - entity: '[[average]]'
              name: '[[floor]] average'
            show_icon: false
            type: glance
          - animate: true
            canary_style:
              border: none;
            entities:
            - entity: '[[average]]'
            height: 118
            hours_to_show: 24
            line_width: 2
            lower_bound: 60
            points_per_hour: 4
            show:
              extrema: false
              graph: line
              icon: false
              name: false
              state: false
            type: custom:mini-graph-card
          in_card: true
          type: vertical-stack
        - cards:
          - subtitle: Room temperature
            type: custom:mushroom-title-card
          - canary_style:
              border: none;
            entities: '[[temperature_entities]]'
            show_icon: false
            type: glance
          - aggregate_func: max
            animate: true
            canary_style:
              border: none;
            entities: '[[temperature_entities]]'
            height: 75
            hours_to_show: 24
            line_width: 2
            points_per_hour: 2
            show:
              icon: false
              name: false
              state: false
            type: custom:mini-graph-card
          in_card: true
          type: vertical-stack
        - cards:
          - subtitle: Room humidity
            type: custom:mushroom-title-card
          - canary_style:
              border: none;
            entities: '[[humidity_entities]]'
            show_icon: false
            type: glance
          - aggregate_func: max
            animate: true
            canary_style:
              border: none;
            entities: '[[humidity_entities]]'
            height: 75
            hours_to_show: 12
            line_width: 2
            points_per_hour: 4
            show:
              icon: false
              name: false
              state: false
            type: custom:mini-graph-card
          in_card: true
          type: vertical-stack
        parameters:
          pagination:
            type: bullets
          spaceBetween: 8
        type: custom:swipe-card
      type: vertical-stack
  graph:
    card:
      entities:
      - entities: '[[entities]]'
        entity: '[[entity1]]'
        icon: '[[icon]]'
        name: '[[name]]'
        show_state: false
        type: custom:multiple-entity-row
      footer:
        animate: true
        canary_style:
          border: none;
        entities: '[[entities]]'
        height: 75
        hours_to_show: '[[hours]]'
        line_width: 2
        show:
          icon: false
          labels: true
          name: false
          state: false
        type: custom:mini-graph-card
      type: entities
    default:
      entities: []
      entity1: sensor.none
      hours: 24
      icon: mdi:thermometer-low
      name: ' '
  top_chips:
    card:
      alignment: center
      chips:
      - type: '[[back_button]]'
      - entity: sensor.ui_date
        icon: mdi:calendar
        icon_color: red
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                template: calendar_popup
                type: custom:decluttering-card
                variables:
                - days: '7'
              title: Calendar
            service: browser_mod.popup
        type: entity
      - content: '{{ state_attr("weather.home","temperature") }}'
        entity: weather.home
        icon: '{{ states("sensor.weather_icon") }}'
        icon_color: '{{ state_attr("sensor.weather_icon","color") }}'
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                template: weather
                type: custom:decluttering-card
              title: Weather
            service: browser_mod.popup
        type: template
      - entity: sensor.family_present
        icon_color: teal
        tap_action:
          action: fire-dom-event
          browser_mod:
            data:
              content:
                cards:
                - card:
                    columns: 3
                    show_header_toggle: false
                    show_name: false
                    show_state: false
                    type: glance
                  entities:
                  - person.brian
                  - person.eric
                  - person.heather
                  - person.lucas
                  - person.nerene
                  - person.sandy
                  state_filter:
                  - home
                  type: entity-filter
                - aspect_ratio: '16:9'
                  entities:
                  - entity: device_tracker.life360_brian
                  - entity: device_tracker.life360_lucas
                  - entity: device_tracker.life360_eric
                  - entity: device_tracker.life360_nerene
                  - entity: zone.court
                  - entity: zone.office
                  - entity: zone.high_school
                  - entity: zone.home
                  - entity: zone.range
                  - entity: zone.school
                  hours_to_show: 6
                  type: map
                type: vertical-stack
              title: People at home
            service: browser_mod.popup
        type: entity
      - chip:
          entity: sensor.lights_on
          icon_color: amber
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - subtitle: Downstairs lights
                    type: custom:mushroom-title-card
                  - card:
                      columns: 3
                      show_header_toggle: false
                      show_name: true
                      show_state: false
                      type: entities
                    filter:
                      exclude:
                      - state: 'off'
                      - state: unknown
                      - state: unavailable
                      include:
                      - group: group.downstairs_lights
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  - subtitle: Upstairs lights
                    type: custom:mushroom-title-card
                  - card:
                      columns: 3
                      show_header_toggle: false
                      show_name: true
                      show_state: false
                      type: entities
                    filter:
                      exclude:
                      - state: 'off'
                      - state: unknown
                      - state: unavailable
                      include:
                      - group: group.upstairs_lights
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  - subtitle: Outdoor lights
                    type: custom:mushroom-title-card
                  - card:
                      columns: 3
                      show_header_toggle: false
                      show_name: true
                      show_state: false
                      type: entities
                    filter:
                      exclude:
                      - state: 'off'
                      - state: unknown
                      - state: unavailable
                      include:
                      - group: group.outdoor_lights
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  type: vertical-stack
                title: Lights on
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.lights_on
          state_not: '0'
        type: conditional
      - chip:
          entity: sensor.contact_sensors_open
          icon_color: blue
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - subtitle: Downstairs
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.windows_open_downstairs", "open_windows")
                        }}'
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  - card:
                      columns: 3
                      show_header_toggle: false
                      show_name: true
                      show_state: false
                      type: entities
                    filter:
                      exclude:
                      - state: closed
                      - state: locked
                      - state: 'off'
                      - state: unknown
                      - state: unavailable
                      include:
                      - group: group.entry_doors
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  - subtitle: Upstairs
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.windows_open_upstairs", "open_windows")
                        }}'
                    show_empty: false
                    sort:
                      method: name
                    type: custom:auto-entities
                  type: vertical-stack
                title: Doors/windows open
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.contact_sensors_open
          state_not: '0'
        type: conditional
      type: custom:mushroom-chips-card
      view_layout:
        grid-area: header
    default:
      back_button: back
  weather:
    card:
      cards:
      - subtitle: Current conditions
        title: Weather
        type: custom:mushroom-title-card
      - current: true
        details: true
        entity: weather.home
        forecast: true
        hourly_forecast: false
        number_of_forecasts: '4'
        type: custom:weather-card
      - card:
          cards:
          - subtitle: National weather service alerts
            type: custom:mushroom-title-card
          - content: "{%- set alerts = state_attr(\"sensor.nws_alerts\",\"spoken_desc\"\
              ) %} {%- if \"-\" in alerts %}\n  {%- set alerts = alerts.split(\"-\"\
              ) %}\n  {%- for alert in alerts %}\n    {%- if loop.first %}\n     \
              \ {{ alert }}\n    {%- else %}\n      {{ iif(alert!=alerts[loop.index-1],\
              \ alert, \"\") }}\n    {%- endif %}\n  {%- endfor %}\n{%- else %}\n\
              \ {{ alerts }}\n{%- endif %}\n"
            type: markdown
          type: vertical-stack
        conditions:
        - entity: sensor.nws_alerts
          state_not: '0'
        type: conditional
      - card:
          cards:
          - subtitle: Radar
            type: custom:mushroom-title-card
          - center_latitude: 32.839191
            center_longitude: -117.1895228
            data_source: RainViewer-TWC
            map_style: Voyager
            marker_latitude: 32.8592997
            marker_longitude: -117.0232825
            show_marker: true
            square_map: true
            static_map: true
            type: custom:weather-radar-card
            zoom_level: 9
          type: vertical-stack
        conditions:
        - entity: binary_sensor.rain_today
          state: 'on'
        type: conditional
      - subtitle: Last 24 hours
        type: custom:mushroom-title-card
      - animate: true
        entities:
        - entity: sensor.outdoor_temperature
          name: Temperature
          show_fill: false
        - entity: sensor.outdoor_humidity
          name: Humidity
          show_line: false
          show_points: false
          y_axis: secondary
        icon: mdi:weather-sunny
        line_width: 2
        name: Outdoor
        points_per_hour: 4
        show:
          extrema: true
          icon: false
          labels: true
          labels_secondary: true
          name: false
          state: false
        type: custom:mini-graph-card
      type: vertical-stack
kiosk_mode:
  hide_header: true
views:
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    variables:
    - back_button: none
    view_layout:
      grid-area: header
  - cards:
    - badge_color: var(--rgb-state-light)
      badge_icon: '{%- set lights_on = states("sensor.lights_on_downstairs")|int(default=0)
        %}

        {{- iif(lights_on>0, "mdi:lightbulb", "") }}'
      entity: sensor.downstairs_temperature_average
      fill_container: true
      icon: mdi:home-floor-1
      icon_color: teal
      multiline_secondary: false
      primary: Downstairs
      secondary: '{%- set lights_on = states("sensor.lights_on_downstairs")|int(default=0)
        %}

        {{- iif(lights_on>0, lights_on~" lights on ‧", "") }}

        {{ states("sensor.downstairs_temperature_average")|round(default=0) }}°'
      tap_action:
        action: navigate
        navigation_path: ./downstairs
      type: custom:mushroom-template-card
    - badge_color: var(--rgb-state-light)
      badge_icon: '{%- set lights_on = states("sensor.lights_on_upstairs")|int|default(0)
        %}

        {{- iif(lights_on>0, "mdi:lightbulb", "") }}'
      entity: sensor.upstairs_temperature_average
      fill_container: true
      icon: mdi:home-floor-2
      icon_color: purple
      primary: Upstairs
      secondary: '{%- set lights_on = states("sensor.lights_on_upstairs")|int(default=0)
        %}

        {{- iif(lights_on>0, lights_on~" lights on ‧", "") }}

        {{ states("sensor.upstairs_temperature_average")|round(default=0) }}°'
      tap_action:
        action: navigate
        navigation_path: ./upstairs
      type: custom:mushroom-template-card
    - badge_color: var(--rgb-state-light)
      badge_icon: '{%- set lights_on = states("sensor.lights_on_outdoors")|int|default(0)
        %}

        {{- iif(lights_on>0, "mdi:lightbulb", "") }}'
      entity: sensor.backyard_temperature
      fill_container: true
      icon: mdi:flower
      icon_color: blue
      primary: Outside
      secondary: '{{ states("weather.home") }} ‧

        {{ states("sensor.backyard_temperature")|round(default=0) }}°'
      tap_action:
        action: navigate
        navigation_path: ./outdoor
      type: custom:mushroom-template-card
    - entity: climate.home_thermostat
      tap_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              cards:
              - entity: climate.home_thermostat
                fallback: 'OFF'
                header: false
                layout:
                  mode:
                    headings: false
                    names: false
                step_size: 1
                type: custom:simple-thermostat
                unit: °
              - entities:
                - entities:
                  - entity: sensor.outdoor_temperature
                    format: precision0
                    name: Outdoor
                    unit: °
                  - entity: sensor.outdoor_humidity
                    format: precision0
                    name: Outdoor
                  - entity: sensor.home_thermostat_temperature
                    format: precision0
                    name: Thermostat
                    unit: °
                  - entity: sensor.home_thermostat_humidity
                    format: precision0
                    name: Thermostat
                  entity: sensor.home_thermostat_temperature
                  icon: mdi:thermometer
                  name: Temperature
                  secondary_info: last-changed
                  show_state: false
                  type: custom:multiple-entity-row
                footer:
                  animate: true
                  entities:
                  - entity: sensor.outdoor_temperature
                    name: Outdoor °
                    show_fill: false
                  - entity: sensor.outdoor_humidity
                    name: Outdoor %
                    show_line: false
                    show_points: false
                    y_axis: secondary
                  - entity: sensor.home_thermostat_temperature
                    name: Thermostat °
                    show_fill: false
                  - entity: sensor.home_thermostat_humidity
                    name: Thermostat %
                    show_line: false
                    show_points: false
                    y_axis: secondary
                  height: 75
                  hours_to_show: 24
                  line_width: 2
                  show:
                    icon: false
                    labels: true
                    labels_secondary: true
                    name: false
                    state: false
                  type: custom:mini-graph-card
                state_color: true
                type: entities
              type: vertical-stack
            title: House thermostat
          service: browser_mod.popup
      type: custom:mushroom-climate-card
    - entity: climate.bedroom_thermostat
      tap_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              cards:
              - control:
                  hvac:
                    heat: false
                    heat_cool: false
                entity: climate.bedroom_thermostat
                fallback: 'OFF'
                header: false
                layout:
                  mode:
                    headings: false
                    names: false
                step_size: 1
                type: custom:simple-thermostat
                unit: °
              - entities:
                - entities:
                  - entity: sensor.bedroom_temperature
                    format: precision0
                    name: Room
                    unit: °
                  - entity: sensor.bedroom_thermostat_temperature
                    format: precision0
                    name: Thermostat
                    unit: °
                  - entity: sensor.bedroom_humidity
                    format: precision0
                    name: Humidity
                  entity: sensor.bedroom_temperature
                  icon: mdi:thermometer
                  name: Temperature
                  secondary_info: last-changed
                  show_state: false
                  type: custom:multiple-entity-row
                footer:
                  animate: true
                  entities:
                  - entity: sensor.bedroom_temperature
                    name: Room °
                    show_fill: false
                  - entity: sensor.bedroom_thermostat_temperature
                    name: Thermostat °
                    show_fill: false
                  - entity: sensor.bedroom_humidity
                    name: Humidity %
                    show_line: false
                    show_points: false
                    y_axis: secondary
                  height: 75
                  hours_to_show: 24
                  line_width: 2
                  show:
                    icon: false
                    labels: true
                    labels_secondary: true
                    name: false
                    state: false
                  style: "ha-card {\n  background: none;\n}\n"
                  type: custom:mini-graph-card
                state_color: true
                type: entities
              - entities:
                - entities:
                  - entity: sensor.bedroom_recommended_climate_mode
                    name: Recommended
                  - entity: sensor.bedroom_ac_power
                    name: Power
                  - entity: climate.bedroom_thermostat
                    name: Status
                  entity: climate.bedroom_thermostat
                  name: Air Conditioner
                  secondary_info: last-changed
                  show_state: false
                  type: custom:multiple-entity-row
                show_header_toggle: false
                state_color: false
                type: entities
              - alignment: center
                chips:
                - content: 'Force state: ON'
                  icon: mdi:power
                  icon_color: green
                  tap_action:
                    action: call-service
                    service: sensibo.assume_state
                    service_data:
                      state: 'on'
                    target:
                      device_id: 90294c771af3341b24b8836b59e002ad
                  type: template
                - content: 'Force state: OFF'
                  icon: mdi:power-off
                  icon_color: red
                  tap_action:
                    action: call-service
                    service: sensibo.assume_state
                    service_data:
                      state: 'off'
                    target:
                      device_id: 90294c771af3341b24b8836b59e002ad
                  type: template
                type: custom:mushroom-chips-card
              type: vertical-stack
            title: Bedroom thermostat
          service: browser_mod.popup
      type: custom:mushroom-climate-card
    - entity: climate.lucas_room_thermostat
      tap_action:
        action: fire-dom-event
        browser_mod:
          data:
            content:
              cards:
              - control:
                  hvac:
                    heat: false
                    heat_cool: false
                entity: climate.lucas_room_thermostat
                fallback: 'OFF'
                header: false
                layout:
                  mode:
                    headings: false
                    names: false
                step_size: 1
                type: custom:simple-thermostat
                unit: °
              - entities:
                - entities:
                  - entity: sensor.lucas_room_temperature
                    format: precision0
                    name: Room
                    unit: °
                  - entity: sensor.lucas_room_thermostat_temperature
                    format: precision0
                    name: Thermostat
                    unit: °
                  - entity: sensor.lucas_room_humidity
                    format: precision0
                    name: Humidity
                  entity: sensor.lucas_room_temperature
                  icon: mdi:thermometer
                  name: Temperature
                  secondary_info: last-changed
                  show_state: false
                  type: custom:multiple-entity-row
                footer:
                  animate: true
                  entities:
                  - entity: sensor.lucas_room_temperature
                    name: Room °
                    show_fill: false
                  - entity: sensor.lucas_room_thermostat_temperature
                    name: Thermostat °
                    show_fill: false
                  - entity: sensor.lucas_room_humidity
                    name: Humidity %
                    show_line: false
                    show_points: false
                    y_axis: secondary
                  height: 75
                  hours_to_show: 24
                  line_width: 2
                  show:
                    icon: false
                    labels: true
                    labels_secondary: true
                    name: false
                    state: false
                  type: custom:mini-graph-card
                state_color: true
                type: entities
              - entities:
                - entities:
                  - entity: switch.schedule_lucas_climate_school_nights
                    name: School
                    toggle: true
                  - entity: switch.schedule_lucas_climate_weekend_nights
                    name: Weekend
                    toggle: true
                  - entity: switch.schedule_lucas_climate_break_schedule
                    name: Break
                    toggle: true
                  entity: switch.schedule_lucas_climate_school_nights
                  name: Schedule
                  secondary_info: last-changed
                  show_state: false
                  state_color: true
                  type: custom:multiple-entity-row
                - type: divider
                - entities:
                  - entity: sensor.lucas_recommended_climate_mode
                    name: Recommended
                  - entity: sensor.lucas_ac_power
                    name: Power
                  - entity: climate.lucas_room_thermostat
                    name: Status
                  entity: climate.lucas_room_thermostat
                  name: Air Conditioner
                  secondary_info: last-changed
                  show_state: false
                  type: custom:multiple-entity-row
                show_header_toggle: false
                state_color: false
                type: entities
              - alignment: center
                chips:
                - content: 'Force state: ON'
                  icon: mdi:power
                  icon_color: green
                  tap_action:
                    action: call-service
                    service: sensibo.assume_state
                    service_data:
                      state: 'on'
                    target:
                      device_id: 877557b634269a08b5bf0439f9a314b5
                  type: template
                - content: 'Force state: OFF'
                  icon: mdi:power-off
                  icon_color: red
                  tap_action:
                    action: call-service
                    service: sensibo.assume_state
                    service_data:
                      state: 'off'
                    target:
                      device_id: 877557b634269a08b5bf0439f9a314b5
                  type: template
                type: custom:mushroom-chips-card
              type: vertical-stack
            title: Lucas thermostat
          service: browser_mod.popup
      type: custom:mushroom-climate-card
    - double_tap_action:
        action: none
      hold_action:
        action: none
      icon: mdi:speedometer-slow
      icon_color: red
      primary: Monitor
      secondary: ''
      tap_action:
        action: navigate
        navigation_path: /lovelace/monitor
      type: custom:mushroom-template-card
    - badge_color: ''
      badge_icon: ''
      double_tap_action:
        action: none
      hold_action:
        action: none
      icon: mdi:calendar-clock
      icon_color: green
      primary: Schedules
      tap_action:
        action: navigate
        navigation_path: /lovelace/events
      type: custom:mushroom-template-card
    columns: 2
    square: false
    type: grid
    view_layout:
      grid-area: middle
  - cards:
    - alignment: center
      chips:
      - chip:
          entity: sensor.updates_available
          icon: mdi:update
          icon_color: deep-orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Updates
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.updates_available","entities")
                        }}'
                    show_empty: false
                    sort:
                      method: state
                    type: custom:auto-entities
                  - alignment: center
                    chips:
                    - content: Go to updates
                      icon: mdi:link
                      tap_action:
                        action: url
                        url_path: /config/updates
                      type: template
                    type: custom:mushroom-chips-card
                  type: vertical-stack
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.updates_available
          state_not: '0'
        type: conditional
      - chip:
          entity: sensor.persistent_notifications_on
          icon_color: orange
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Notifications
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.persistent_notifications_on","entities")
                        }}'
                    show_empty: false
                    sort:
                      method: state
                    type: custom:auto-entities
                  type: vertical-stack
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.persistent_notifications_on
          state_not: '0'
        type: conditional
      - chip:
          entity: sensor.low_batteries
          icon_color: amber
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Low batteries
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.low_batteries","entities")
                        }}'
                    show_empty: false
                    sort:
                      method: state
                    type: custom:auto-entities
                  type: vertical-stack
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.low_batteries
          state_not: '0'
        type: conditional
      - chip:
          entity: sensor.alerts_automations_and_scripts_running
          icon_color: green
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Automations and scripts running
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.alerts_automations_and_scripts_running","entities")
                        }}'
                    show_empty: false
                    sort:
                      method: state
                    type: custom:auto-entities
                  type: vertical-stack
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.alerts_automations_and_scripts_running
          state_not: '0'
        type: conditional
      - chip:
          entity: sensor.timers_on
          icon_color: indigo
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Timers on
                    type: custom:mushroom-title-card
                  - card:
                      type: entities
                    filter:
                      template: '{{ state_attr("sensor.timers_on","entities") }}'
                    show_empty: false
                    sort:
                      method: state
                    type: custom:auto-entities
                  type: vertical-stack
              service: browser_mod.popup
          type: entity
        conditions:
        - entity: sensor.timers_on
          state_not: '0'
        type: conditional
      - chip:
          content: '{{ states("sensor.plex_watchers") }}'
          entity: sensor.plex_watchers
          icon: mdi:plex
          icon_color: disabled
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Plex watchers
                    type: custom:mushroom-title-card
                  - content: "<table width=\"100%\"> {%- set records = state_attr(\"\
                      sensor.plex_watchers\",\"watchers\") %} {%- for record in records\
                      \ %}\n  {%- set record = (record|replace(\"\\'\",\"\")|replace(\"\
                      [\",\"\")|replace(\"]\",\"\")).split(\",\") %}\n  <tr>\n   \
                      \ <td><ha-icon icon=\"mdi:plex\"></ha-icon> &nbsp;{{ record[0]|trim\
                      \ }}</td>\n    <td align=\"right\">{{ record[1]|trim }}</td>\n\
                      \  </tr>\n{%- endfor %} </table>"
                    type: markdown
                  type: vertical-stack
              service: browser_mod.popup
          type: template
        conditions:
        - entity: sensor.plex
          state_not: '0'
        type: conditional
      - chip:
          content: '{{ states("sensor.problems") }}'
          entity: sensor.problems
          icon: mdi:folder-question
          icon_color: disabled
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - title: Problems
                    type: custom:mushroom-title-card
                  - tabs:
                    - attributes:
                        icon: mdi:folder-question
                        label: Problems
                      card:
                        cards:
                        - entity: sensor.unknown_count
                          icon: mdi:folder-question
                          name: Unknown entities
                          type: custom:mushroom-entity-card
                        - card:
                            type: entities
                          filter:
                            options:
                              show_empty: false
                              type: custom:multiple-entity-row
                            template: '{{ state_attr("sensor.unknown_count","entities")
                              }}'
                          show_empty: false
                          sort:
                            method: state
                          type: custom:auto-entities
                        - entity: sensor.unavailable_count
                          icon: mdi:folder-question
                          name: Unavailable entities
                          type: custom:mushroom-entity-card
                        - card:
                            type: entities
                          filter:
                            options:
                              show_empty: false
                              type: custom:multiple-entity-row
                            template: '{{ state_attr("sensor.unavailable_count","entities")
                              }}'
                          show_empty: false
                          sort:
                            method: state
                          type: custom:auto-entities
                        type: vertical-stack
                    - attributes:
                        icon: mdi:folder-hidden
                        label: Missing
                      card:
                        cards:
                        - entity: sensor.watchman_missing_entities
                          icon: mdi:folder-hidden
                          name: Missing entities
                          type: custom:mushroom-entity-card
                        - content: "<table width=\"100%\">\n  {%- for item in state_attr(\"\
                            sensor.watchman_missing_entities\", \"entities\") %}\n\
                            \  <tr>\n    <td><ha-icon icon=\"mdi:folder-hidden\"></ha-icon>\
                            \ &nbsp;{{ item.id }}</td>\n    <td align=\"right\"><a\
                            \ title=\"{{item.occurrences}}\"> {{item.occurrences.split('/')[-1].split(':')[0]}}</a></td>\n\
                            \  </tr>\n{%- endfor %}\n</table>"
                          type: markdown
                        - entity: sensor.watchman_missing_services
                          icon: mdi:folder-hidden
                          name: Missing services
                          type: custom:mushroom-entity-card
                        - content: "<table width=\"100%\">\n  {%- for item in state_attr(\"\
                            sensor.watchman_missing_services\", \"entities\") %}\n\
                            \  <tr>\n    <td><ha-icon icon=\"mdi:cloud-{%- if item.state=='missing'-%}alert{%-\
                            \ elif item.state=='unavail' -%}off-outline{%- else-%}question{%-\
                            \ endif -%}\"></ha-icon> &nbsp;{{ item.id }}</td>\n  \
                            \  <td align=\"right\"><a title=\"{{item.occurrences}}\"\
                            > {{item.occurrences.split('/')[-1].split(':')[0]}}</a></td>\n\
                            \  </tr>\n{%- endfor %}\n</table>"
                          type: markdown
                        type: vertical-stack
                    type: custom:tabbed-card
                  type: vertical-stack
              service: browser_mod.popup
          type: template
        conditions:
        - entity: sensor.problems
          state_not: '0'
        type: conditional
      type: custom:mushroom-chips-card
    - compact_mode: false
      entities:
      - content_template: '**{{display_name}}** is **{{state}}**'
        entity: binary_sensor.front_door
        exclude_states:
        - 'off'
        - unavailable
        name: Front Door
        state_map:
          'on': Open
      - content_template: '**{{display_name}}** is **{{state}}**'
        entity: cover.garage_door
        exclude_states:
        - closed
        - unavailable
      id_filter: safety_alert
      max_item_count: 5
      more_info_on_tap: false
      show_empty: false
      show_notification_title: false
      style: "ha-markdown {\n  font-size: 1.2em;\n  font-weight: bold;\n}\n"
      title: Safety notifications
      type: custom:home-feed-card
    - compact_mode: false
      entities:
      - content_template: Today is **{{state}}**
        entity: sensor.holiday
        exclude_states:
        - ''
        - none
        - unavailable
        name: Holiday
      - content_template: '**Glowforge** is **{{state}}**'
        entity: input_select.glowforge_status
        exclude_states:
        - 'off'
        - 'Off'
        - unavailable
      - content_template: '**3D Printer** is **{{state}}**'
        entity: sensor.octoprint_current_state
        exclude_states:
        - unavailable
        include_states:
        - Printing
      - content_template: '**{{display_name}}** is **unlocked**'
        entity: lock.front_door
        exclude_states:
        - locked
        - unavailable
        name: Front Door
      - content_template: '**Leave door unlocked** is **active**'
        entity: input_boolean.leave_unlocked
        exclude_states:
        - 'off'
      - content_template: '**{{display_name}}** is **active**'
        entity: input_boolean.guest_mode
        exclude_states:
        - 'off'
      - content_template: '**{{display_name}}** is **active**'
        entity: input_boolean.away_mode
        exclude_states:
        - 'off'
      id_filter: ^(?!.*safety_alert).*
      max_item_count: 5
      more_info_on_tap: false
      show_empty: false
      show_notification_title: false
      style: "ha-card {\n  background: rgba(255, 165, 0, 0.1);\n  padding-top: 16px\
        \ !important;\n}\n#header { display: none; }\n"
      title: Informational notifications
      type: custom:home-feed-card
    - cards:
      - card:
          type: entities
        filter:
          exclude:
          - state: ''
          - state: none
          - state: unknown
          - state: home
          include:
          - entity_id: sensor.high_school_day_modified_schedule
          - entity_id: input_boolean.leave_unlocked
            state: 'on'
          - entity_id: device_tracker.wirelessap1
          - entity_id: device_tracker.wirelessap2
          - entity_id: device_tracker.wirelessap3
          - entity_id: binary_sensor.alert_zwavejs_offline
            state: 'on'
          - entity_id: binary_sensor.irrigation_controller_status
            state: 'off'
        show_empty: false
        type: custom:auto-entities
      style: "ha-card {\n  background: rgba(0, 128, 128, 0.1);\n  border-style: none;\n\
        }\n"
      type: vertical-stack
    - cards:
      - entities:
        - entity: sensor.downstairs_temperature_average
          icon: hass:home-floor-1
        - entity: sensor.upstairs_temperature_average
          icon: hass:home-floor-2
        - entity: sensor.attic_temperature
          icon: hass:home-floor-a
        show_icon: true
        show_name: false
        show_state: true
        state_color: false
        type: glance
      - alignment: justify
        chips:
        - type: menu
        - icon: mdi:server
          icon_color: blue-grey
          tap_action:
            action: navigate
            navigation_path: /lovelace/system
          type: action
        - icon: mdi:robot
          icon_color: blue-grey
          tap_action:
            action: navigate
            navigation_path: /lovelace/routines
          type: action
        - icon: mdi:cast-audio
          icon_color: blue-grey
          tap_action:
            action: navigate
            navigation_path: /lovelace/smart-speakers
          type: action
        - icon: fas:birthday-cake
          icon_color: blue-grey
          tap_action:
            action: navigate
            navigation_path: /lovelace/family-dates
          type: action
        type: custom:mushroom-chips-card
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: right
  - template: calendar
    type: custom:decluttering-card
    variables:
    - days: 2
    view_layout:
      grid-area: left
  - cards:
    - style: "ha-card {\n  background: rgba(128, 128, 128, 0.1);\n}\n:host {\n  display:\
        \ {{ \"none\" if user.is_admin|default(false) else \"block\" }}\n}\n"
      type: shopping-list
    type: vertical-stack
    view_layout:
      grid-area: footer
  icon: mdi:home-circle
  layout:
    grid-template-areas: '"header header header"

      "left middle right"

      ". footer ."

      '
    grid-template-columns: 30% auto 30%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 1100px)':
        grid-template-areas: '"header header"

          "middle right"

          "left footer"

          "left footer"

          "left footer"

          '
        grid-template-columns: auto 40%
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "middle"

          "left"

          "right"

          "footer"

          '
        grid-template-columns: 100%
  path: home
  theme: Backend-selected
  title: Home
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - subtitle: "{{- states(\"sensor.family_room_temperature\")|round(default=0)\
          \ }}°\n{{- \" ‧ \" ~ states(\"sensor.family_room_humidity\")|round(default=0)\
          \ }}%\n{%-\n  set lights_on = expand(area_entities(\"family room\")) \n\
          \    | selectattr(\"domain\",\"eq\",\"light\") \n    | selectattr(\"state\"\
          ,\"eq\",\"on\")\n    | map(attribute=\"entity_id\")\n    | list\n    | count\n\
          \    | default(0)\n%}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on\
          \ == 1, \"1 light on\", lights_on ~ \" lights on\") }}\n{%- endif %}\n{%-\
          \ set open_count = 0 %}\n{%- if is_state(\"binary_sensor.family_room_south_window\"\
          , \"on\") %}\n  {%- set open_count = open_count + 1  %}\n{%- endif %}\n\
          {%- if is_state(\"binary_sensor.family_room_north_window\", \"on\") %}\n\
          \  {%- set open_count = open_count + 1  %}\n{%- endif %}\n{{- iif(open_count==1,\
          \ \" ‧ 1 window open\", iif(open_count>1, \" ‧ \"~open_count~\" windows\
          \ open\", \"\")) }}\n{{- iif(is_state(\"binary_sensor.family_room_occupancy\"\
          ,\"on\"), \" ‧ occupied\", \"\") }}\n{{- iif(is_state(\"media_player.family_room_tv\"\
          ,\"on\"), \" ‧ tv is on\", \"\") }}"
        title: Family room
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.family_room
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.family_room_table_lamp
          fill_container: true
          name: Table lamp
          show_brightness_control: true
          show_color_temp_control: false
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.family_room_floor_lamp
          fill_container: true
          name: Floor lamp
          show_brightness_control: true
          show_color_control: false
          type: custom:mushroom-light-card
          use_light_color: true
        - entity: fan.family_room
          fill_container: true
          hide_state: true
          icon_animation: true
          name: Fan
          show_oscillate_control: false
          show_percentage_control: false
          type: custom:mushroom-fan-card
        - collapsible_controls: true
          entity: media_player.google_family_room
          fill_container: true
          icon: ''
          media_controls:
          - on_off
          - play_pause_stop
          name: Google display
          show_volume_level: false
          type: custom:mushroom-media-player-card
          use_media_info: true
          volume_controls:
          - volume_mute
          - volume_buttons
        - collapsible_controls: true
          entity: media_player.family_room_apple_tv
          fill_container: true
          media_controls:
          - play_pause_stop
          name: Apple TV
          show_volume_level: true
          tap_action:
            action: call-service
            service: media_player.toggle
            service_data: {}
            target:
              entity_id: media_player.family_room_tv
          type: custom:mushroom-media-player-card
          use_media_info: true
          volume_controls:
          - volume_buttons
          - volume_mute
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Adaptive lighting
          entity: switch.adaptive_lighting_adapt_brightness_family_room
          icon: mdi:toggle-switch{{ iif(is_state("switch.adaptive_lighting_adapt_brightness_family_room","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.adaptive_lighting_adapt_brightness_family_room","on"),
            "blue", "grey") }}'
          type: template
        - content: Do not disturb
          entity: switch.google_family_room_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_family_room_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_family_room_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.kitchen_temperature\")|round(default=0) }}°\n\
          {{- \" ‧ \" ~states(\"sensor.kitchen_humidity\")|round(default=0) }}%\n\
          {%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.kitchen\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on = iif(is_state(\"\
          light.kitchen_prep\",\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on\
          \ = iif(is_state(\"light.dining_room\",\"on\"), lights_on + 1, lights_on)\
          \ %}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on == 1, \"1 light\
          \ on\", lights_on ~ \" lights on\") }}\n{%- endif %}\n{{- iif(is_state(\"\
          binary_sensor.kitchen_window\", \"on\"), \" ‧ window open\", \"\") }}\n\
          {{- iif(is_state(\"binary_sensor.kitchen_motion\",\"on\"), \" ‧ occupied\"\
          , \"\") }}\n{{- iif(not is_state(\"input_select.dishwasher_status\",\"-\"\
          ), \" ‧ dishes are \" ~ states(\"input_select.dishwasher_status\")|lower,\
          \ \"\") }}"
        title: Kitchen & dining
        type: custom:mushroom-title-card
      - cards:
        - entity: light.kitchen
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - entity: light.kitchen_prep
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.dining_room
          fill_container: true
          show_brightness_control: true
          show_color_temp_control: false
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: media_player.google_kitchen
          fill_container: true
          icon: ''
          media_controls:
          - on_off
          - play_pause_stop
          name: Google display
          type: custom:mushroom-media-player-card
          use_media_info: true
          volume_controls:
          - volume_mute
          - volume_buttons
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Do not disturb
          entity: switch.google_kitchen_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_kitchen_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_kitchen_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      - template: graph
        type: custom:decluttering-card
        variables:
        - name: Kitchen
        - icon: mdi:stove
        - hours: 12
        - entity1: sensor.kitchen_temperature
        - entities:
          - entity: sensor.kitchen_temperature
            name: Kitchen
          - entity: sensor.stove_temperature
            name: Stove
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.play_room_temperature\")|round(default=0) }}°\n\
          {{- \" ‧ \" ~ states(\"sensor.play_room_humidity\")|round(default=0) }}%\n\
          {%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.play_room\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on = iif(is_state(\"\
          light.play_room_floor_lamp\",\"on\"), lights_on + 1, lights_on) %}\n{%-\
          \ set lights_on = iif(is_state(\"light.play_room_entry\",\"on\"), lights_on\
          \ + 1, lights_on) %}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on\
          \ == 1, \"1 light on\", lights_on ~ \" lights on\") }}\n{%- endif %}\n{%-\
          \ set contact_open = is_state(\"binary_sensor.sliding_door\", \"on\") %}\n\
          {%- if contact_open %}\n  {{- \" ‧ \" if lights_on }}\n  {{- \"sliding door\
          \ open\" }}\n{%- endif %}\n{{- iif(is_state(\"binary_sensor.play_room_motion\"\
          ,\"on\"), \" ‧ occupied\", \"\") }}"
        title: Play room
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.play_room
          fill_container: true
          name: Play room
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: false
        - collapsible_controls: true
          entity: light.play_room_floor_lamp
          fill_container: true
          name: Floor lamp
          show_brightness_control: true
          show_color_temp_control: false
          tap_action:
            action: toggle
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.play_room_entry
          fill_container: true
          show_brightness_control: true
          show_color_temp_control: false
          type: custom:mushroom-light-card
          use_light_color: true
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Adaptive lights
          entity: switch.adaptive_lighting_play_room
          icon: mdi:toggle-switch{{iif(is_state("switch.adaptive_lighting_play_room","off"),
            "-off", "")}}
          icon_color: '{{iif(is_state("switch.adaptive_lighting_play_room","on"),"blue","grey")}}'
          type: template
        - content: Do not disturb
          entity: switch.google_play_room_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_play_room_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_play_room_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.family_room_temperature\")|round(default=0)\
          \ }}°\n{{- \" ‧ \" ~ states(\"sensor.family_room_humidity\")|round(default=0)\
          \ }}%\n{%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.home_entry\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on = iif(is_state(\"\
          light.porch\",\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on =\
          \ iif(is_state(\"light.path_lights\",\"on\"), lights_on + 1, lights_on)\
          \ %}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on == 1, \"1 light\
          \ is on\", lights_on ~ \" lights are on\") }}\n{%- endif %}\n{%- set contact_open\
          \ = is_state(\"binary_sensor.front_door\", \"on\") %}\n{%- if contact_open\
          \ %}\n  {{- \" ‧ \" if lights_on }}\n  {{- \"door open\" }}\n{%- endif %}\n\
          {{- iif(is_state(\"lock.front_door\",\"unlocked\"), \" ‧ front door is unlocked\"\
          , \"\") }}\n{{- iif(is_state(\"binary_sensor.front_door_person_occupancy\"\
          ,\"on\"), \" ‧ someone is at the front door\", \"\") }}"
        title: Home entry
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.porch
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.path_lights
          fill_container: true
          icon: mdi:light-flood-down
          show_brightness_control: true
          show_color_control: false
          type: custom:mushroom-light-card
          use_light_color: false
        - collapsible_controls: true
          entity: light.driveway_flood
          fill_container: true
          icon: mdi:light-flood-down
          name: Driveway
          show_brightness_control: true
          tap_action:
            action: ''
          type: custom:mushroom-light-card
        - collapsible_controls: true
          entity: light.home_entry
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Adaptive lights
          entity: switch.adaptive_lighting_home_entry
          icon: mdi:toggle-switch{{ iif(is_state("switch.adaptive_lighting_home_entry","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.adaptive_lighting_home_entry","on"),
            "blue", "grey") }}'
          type: template
        - content: Leave unlocked
          entity: input_boolean.leave_unlocked
          icon: mdi:toggle-switch{{ iif(is_state("input_boolean.leave_unlocked","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("input_boolean.leave_unlocked","on"), "blue",
            "grey") }}'
          type: template
        - content: Lights off
          entity: input_boolean.keep_outdoor_lights_off
          icon: mdi:toggle-switch{{ iif(is_state("input_boolean.keep_outdoor_lights_off","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("input_boolean.keep_outdoor_lights_off","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.garage_temperature\")|round(default=0) }}°\n\
          {{- \" ‧ \" ~ states(\"sensor.garage_humidity\")|round(default=0) }}%\n\
          {%-\n  set lights_on = expand(area_entities(\"garage\")) \n    | selectattr(\"\
          domain\",\"eq\",\"light\") \n    | selectattr(\"state\",\"eq\",\"on\")\n\
          \    | map(attribute=\"entity_id\")\n    | list\n    | count\n    | default(0)\n\
          %}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on == 1, \"1 light\
          \ on\", lights_on ~ \" lights on\") }}\n{%- endif %}\n{%- set contact_open\
          \ = is_state(\"cover.garage_door\", \"open\") %}\n{%- if contact_open %}\n\
          \  {{- \" ‧ \" if lights_on }}\n  {{- \"garage door open\" }}\n{%- endif\
          \ %}\n{{- iif(is_state(\"binary_sensor.garage_motion\",\"on\"), \" ‧ occupied\"\
          , \"\") }}\n{{- iif(not is_state(\"cover.garage_door\",\"closed\"), \" ‧\
          \ garage door is \" ~ states(\"cover.garage_door\"), \"\") }}\n{%- if not\
          \ states(\"input_select.laundry_status\") in [\"Off\",\"Unknown\"] %}\n\
          \  {{- \" ‧ \" ~ iif(states(\"input_select.laundry_status\") != \"Please\
          \ transfer to dryer\", \"laundry is \", \"\") ~ states(\"input_select.laundry_status\"\
          )|lower }}\n{%- endif %}"
        title: Garage
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.laundry
          fill_container: true
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - entity: cover.garage_door
          fill_container: true
          show_buttons_control: false
          type: custom:mushroom-cover-card
        columns: 2
        square: false
        type: grid
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - title: Robot vacuums
        type: custom:mushroom-title-card
      - cards:
        - commands:
          - start_pause
          - locate
          - return_home
          - stop
          entity: vacuum.family_room
          name: Family room
          type: custom:mushroom-vacuum-card
        - commands:
          - start_pause
          - locate
          - return_home
          - stop
          entity: vacuum.play_room
          icon_animation: true
          name: Play room
          type: custom:mushroom-vacuum-card
        columns: 2
        square: false
        type: grid
      type: vertical-stack
    - template: floor_climate
      type: custom:decluttering-card
      variables:
      - floor: Downstairs
      - average: sensor.downstairs_temperature_average
      - temperature_entities:
        - entity: sensor.family_room_temperature
          name: Family room
        - entity: sensor.kitchen_temperature
          name: Kitchen
        - entity: sensor.home_thermostat_temperature
          name: Thermostat
      - humidity_entities:
        - entity: sensor.family_room_humidity
          name: Family room
        - entity: sensor.kitchen_humidity
          name: Kitchen
        - entity: sensor.home_thermostat_humidity
          name: Thermostat
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:home-floor-1
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: downstairs
  theme: Backend-selected
  title: Downstairs
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - subtitle: "{{- states(\"sensor.bedroom_temperature\")|round(default=0) }}°\n\
          {{- \" ‧ \" ~ states(\"sensor.bedroom_humidity\")|round(default=0) }}%\n\
          {%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.bedroom\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- set lights_on = iif(is_state(\"\
          light.bedroom_table_lamp\",\"on\"), lights_on + 1, lights_on) %}\n{%- set\
          \ lights_on = iif(is_state(\"light.bedroom_east\",\"on\"), lights_on + 1,\
          \ lights_on) %}\n{%- if lights_on > 0 %}\n  {{- \" ‧ \" ~ iif(lights_on\
          \ == 1, \"1 light on\", lights_on ~ \" lights on\") }}\n{%- endif %}\n\n\
          {{- iif(is_state(\"binary_sensor.bedroom_window\", \"on\"), \" ‧ window\
          \ open\", \"\") }}\n{{- iif(is_state(\"binary_sensor.bedroom_motion\",\"\
          on\"), \" ‧ occupied\", \"\") }}\n{{- iif(not is_state(\"input_select.glowforge_status\"\
          ,\"Off\"), \" ‧ glowforge is \" ~ states(\"input_select.glowforge_status\"\
          )|lower, \"\") }}"
        title: Bedroom
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.bedroom
          fill_container: true
          name: Bedroom lamp
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.bedroom_east
          fill_container: true
          name: East lamp
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.bedroom_table_lamp
          fill_container: true
          name: Table lamp
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - entity: switch.sound_machine
          fill_container: true
          secondary_info: none
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - collapsible_controls: true
          double_tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  entities:
                  - entity: fan.bedroom
                  - entity: input_number.bedroom_fan_speed
                  - entity: fan.bedroom
                    grow: true
                    hide_state: true
                    name: Speed
                    type: custom:slider-entity-row
                  - entity: sensor.bedroom_fan_power
                  - entity: input_button.bedroom_fan_oscillation
                    name: Oscillation toggle
                  - entity: input_button.bedroom_fan_led_toggle
                    name: LED toggle
                  type: entities
                title: Bedroom fan
              service: browser_mod.popup
          entity: fan.bedroom
          fill_container: true
          hide_state: false
          icon_animation: true
          name: Fan
          show_oscillate_control: false
          show_percentage_control: false
          tap_action:
            action: toggle
          type: custom:mushroom-fan-card
        - badge_color: ''
          entity: climate.bedroom_thermostat
          fill_container: true
          icon: mdi:thermostat
          icon_color: '{%- set thermostat_on = states("climate.bedroom_thermostat")
            != "off" %}

            {{- iif(thermostat_on>0, "var(--rgb-state-light)", "") }}'
          multiline_secondary: true
          primary: Bedroom
          secondary: "{%- set current_state = states(\"sensor.bedroom_ac_current_state\"\
            ) %}\n{%- set target_temperature = state_attr(\"climate.bedroom_thermostat\"\
            ,\"temperature\") %}\n{%- if current_state == \"Idle\" -%}\n  Idle until\
            \ {{ target_temperature }}°\n{%- elif current_state == \"Cooling\" %}\n\
            \  Cooling to {{ target_temperature }}°\n{%- elif current_state != \"\
            Off\" %}\n  {{ current_state }}\n{%- endif %}\nCurrently {{ state_attr(\"\
            climate.bedroom_thermostat\",\"current_temperature\")|round(default=0)\
            \ ~ \"°\"\n}}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - control:
                      hvac:
                        heat: false
                        heat_cool: false
                    entity: climate.bedroom_thermostat
                    fallback: 'OFF'
                    header: false
                    layout:
                      mode:
                        headings: false
                        names: false
                    step_size: 1
                    type: custom:simple-thermostat
                    unit: °
                  - entities:
                    - entities:
                      - entity: sensor.bedroom_temperature
                        format: precision0
                        name: Room
                        unit: °
                      - entity: sensor.bedroom_thermostat_temperature
                        format: precision0
                        name: Thermostat
                        unit: °
                      - entity: sensor.bedroom_humidity
                        format: precision0
                        name: Humidity
                      entity: sensor.bedroom_temperature
                      icon: mdi:thermometer
                      name: Temperature
                      secondary_info: last-changed
                      show_state: false
                      type: custom:multiple-entity-row
                    footer:
                      animate: true
                      entities:
                      - entity: sensor.bedroom_temperature
                        name: Room °
                        show_fill: false
                      - entity: sensor.bedroom_thermostat_temperature
                        name: Thermostat °
                        show_fill: false
                      - entity: sensor.bedroom_humidity
                        name: Humidity %
                        show_line: false
                        show_points: false
                        y_axis: secondary
                      height: 75
                      hours_to_show: 24
                      line_width: 2
                      show:
                        icon: false
                        labels: true
                        labels_secondary: true
                        name: false
                        state: false
                      style: "ha-card {\n  background: none;\n}\n"
                      type: custom:mini-graph-card
                    state_color: true
                    type: entities
                  - entities:
                    - entities:
                      - entity: sensor.bedroom_recommended_climate_mode
                        name: Recommended
                      - entity: sensor.bedroom_ac_power
                        name: Power
                      - entity: climate.bedroom_thermostat
                        name: Status
                      entity: climate.bedroom_thermostat
                      name: Air Conditioner
                      secondary_info: last-changed
                      show_state: false
                      type: custom:multiple-entity-row
                    show_header_toggle: false
                    state_color: false
                    type: entities
                  - alignment: center
                    chips:
                    - content: 'Force state: ON'
                      icon: mdi:power
                      icon_color: green
                      tap_action:
                        action: call-service
                        service: sensibo.assume_state
                        service_data:
                          state: 'on'
                        target:
                          device_id: 90294c771af3341b24b8836b59e002ad
                      type: template
                    - content: 'Force state: OFF'
                      icon: mdi:power-off
                      icon_color: red
                      tap_action:
                        action: call-service
                        service: sensibo.assume_state
                        service_data:
                          state: 'off'
                        target:
                          device_id: 90294c771af3341b24b8836b59e002ad
                      type: template
                    type: custom:mushroom-chips-card
                  type: vertical-stack
                title: Bedroom A/C
              service: browser_mod.popup
          type: custom:mushroom-template-card
        - entity: climate.brian_bed
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: climate.nerene_bed
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Do not disturb
          entity: switch.google_bedroom_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_bedroom_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_bedroom_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: '{{- states("sensor.upstairs_bathroom_temperature")|round(default=0)
          }}°

          {{- " ‧ " ~ states("sensor.upstairs_bathroom_humidity")|round(default=0)
          }}%

          {{- iif(is_state("binary_sensor.upstairs_bathroom_window", "on"), " ‧ window
          open", "") }}

          {{- iif(is_state("binary_sensor.upstairs_bathroom_motion","on"), " ‧ occupied",
          "") }}'
        title: Upstairs bathroom
        type: custom:mushroom-title-card
      - cards:
        - entity: fan.upstairs_bathroom_exhaust
          hide_state: true
          icon_animation: true
          name: Exhaust fan
          show_oscillate_control: false
          show_percentage_control: false
          tap_action:
            action: toggle
          type: custom:mushroom-fan-card
        - entity: number.upstairs_bathroom_exhaust_humidity_delta_trigger
          name: Humidity trigger
          tap_action:
            action: more-info
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Do not disturb
          entity: switch.google_upstairs_bathroom_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_upstairs_bathroom_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_upstairs_bathroom_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.lucas_room_temperature\")|round(default=0)\
          \ }}°\n{{- \" ‧ \" ~ states(\"sensor.lucas_room_humidity\")|round(default=0)\
          \ }}%\n{%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.lucas_room\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- if lights_on > 0 %}\n  {{- \"\
          \ ‧ \" ~ iif(lights_on == 1, \"1 light on\", lights_on ~ \" lights on\"\
          ) }}\n{%- endif %}"
        title: Lucas' room
        type: custom:mushroom-title-card
      - cards:
        - entity: light.lucas_room
          name: Light
          show_brightness_control: false
          tap_action:
            action: toggle
          type: custom:mushroom-light-card
        - entity: climate.lucas_room_thermostat
          name: A/C
          tap_action:
            action: more-info
          type: custom:mushroom-entity-card
        - badge_color: ''
          entity: climate.lucas_room_thermostat
          icon: mdi:thermostat
          icon_color: '{%- set thermostat_on = states("climate.lucas_room_thermostat")
            != "off" %}

            {{- iif(thermostat_on>0, "var(--rgb-state-light)", "") }}'
          multiline_secondary: true
          primary: Lucas
          secondary: "{%- set current_state = states(\"climate.lucas_room_thermostat\"\
            ) %}\n{%- set target_temperature = state_attr(\"climate.lucas_room_thermostat\"\
            ,\"temperature\") %}\n{%- if current_state == \"Idle\" -%}\n  Idle until\
            \ {{ target_temperature }}°\n{%- elif current_state == \"Cooling\" %}\n\
            \  Cooling to {{ target_temperature }}°\n{%- elif current_state != \"\
            off\" %}\n  {{ current_state }}\n{%- endif %}\nCurrently {{ states(\"\
            sensor.lucas_room_temperature\")|round(default=0) ~ \"°\"\n}}"
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  cards:
                  - control:
                      hvac:
                        heat: false
                        heat_cool: false
                    entity: climate.lucas_room_thermostat
                    fallback: 'OFF'
                    header: false
                    layout:
                      mode:
                        headings: false
                        names: false
                    step_size: 1
                    type: custom:simple-thermostat
                    unit: °
                  - entities:
                    - entities:
                      - entity: sensor.lucas_room_temperature
                        format: precision0
                        name: Room
                        unit: °
                      - entity: sensor.lucas_room_thermostat_temperature
                        format: precision0
                        name: Thermostat
                        unit: °
                      - entity: sensor.lucas_room_humidity
                        format: precision0
                        name: Humidity
                      entity: sensor.lucas_room_temperature
                      icon: mdi:thermometer
                      name: Temperature
                      secondary_info: last-changed
                      show_state: false
                      type: custom:multiple-entity-row
                    footer:
                      animate: true
                      entities:
                      - entity: sensor.lucas_room_temperature
                        name: Room °
                        show_fill: false
                      - entity: sensor.lucas_room_thermostat_temperature
                        name: Thermostat °
                        show_fill: false
                      - entity: sensor.lucas_room_humidity
                        name: Humidity %
                        show_line: false
                        show_points: false
                        y_axis: secondary
                      height: 75
                      hours_to_show: 24
                      line_width: 2
                      show:
                        icon: false
                        labels: true
                        labels_secondary: true
                        name: false
                        state: false
                      type: custom:mini-graph-card
                    state_color: true
                    type: entities
                  - entities:
                    - entities:
                      - entity: switch.schedule_lucas_climate_school_nights
                        name: School
                        toggle: true
                      - entity: switch.schedule_lucas_climate_weekend_nights
                        name: Weekend
                        toggle: true
                      - entity: switch.schedule_lucas_climate_break_schedule
                        name: Break
                        toggle: true
                      entity: switch.schedule_lucas_climate_school_nights
                      name: Schedule
                      secondary_info: last-changed
                      show_state: false
                      state_color: true
                      type: custom:multiple-entity-row
                    - type: divider
                    - entities:
                      - entity: sensor.lucas_recommended_climate_mode
                        name: Recommended
                      - entity: sensor.lucas_ac_power
                        name: Power
                      - entity: climate.lucas_room_thermostat
                        name: Status
                      entity: climate.lucas_room_thermostat
                      name: Air Conditioner
                      secondary_info: last-changed
                      show_state: false
                      type: custom:multiple-entity-row
                    show_header_toggle: false
                    state_color: false
                    type: entities
                  - alignment: center
                    chips:
                    - content: 'Force state: ON'
                      icon: mdi:power
                      icon_color: green
                      tap_action:
                        action: call-service
                        service: sensibo.assume_state
                        service_data:
                          state: 'on'
                        target:
                          device_id: 877557b634269a08b5bf0439f9a314b5
                      type: template
                    - content: 'Force state: OFF'
                      icon: mdi:power-off
                      icon_color: red
                      tap_action:
                        action: call-service
                        service: sensibo.assume_state
                        service_data:
                          state: 'off'
                        target:
                          device_id: 877557b634269a08b5bf0439f9a314b5
                      type: template
                    type: custom:mushroom-chips-card
                  type: vertical-stack
                title: Lucas A/C
              service: browser_mod.popup
          type: custom:mushroom-template-card
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Adaptive lights
          entity: switch.adaptive_lighting_lucas_room
          icon: mdi:toggle-switch{{ iif(is_state("switch.adaptive_lighting_lucas_room","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.adaptive_lighting_lucas_room","on"),
            "blue", "grey") }}'
          type: template
        - content: Do not disturb
          entity: switch.google_lucas_room_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_lucas_room_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_lucas_room_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - subtitle: "{{- states(\"sensor.kyle_room_temperature\")|round(default=0) }}°\
          \ \n{{- \" ‧ \" ~ states(\"sensor.kyle_room_humidity\")|round(default=0)\
          \ }}%\n{%- set lights_on = 0 %}\n{%- set lights_on = iif(is_state(\"light.kyle_bedside\"\
          ,\"on\"), lights_on + 1, lights_on) %}\n{%- if lights_on > 0 %}\n  {{- \"\
          \ ‧ \" ~ iif(lights_on == 1, \"1 light on\", lights_on ~ \" lights on\"\
          ) }}\n{%- endif %}\n{{- iif(is_state(\"binary_sensor.kyles_room_motion\"\
          ,\"on\"), \" ‧ occupied\", \"\") }}"
        title: Kyle's room
        type: custom:mushroom-title-card
      - cards:
        - collapsible_controls: true
          entity: light.kyle_bedside
          name: Light
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Do not disturb
          entity: switch.google_kyles_room_do_not_disturb
          icon: mdi:toggle-switch{{ iif(is_state("switch.google_kyles_room_do_not_disturb","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.google_kyles_room_do_not_disturb","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - template: floor_climate
      type: custom:decluttering-card
      variables:
      - floor: Upstairs
      - average: sensor.upstairs_temperature_average
      - temperature_entities:
        - entity: sensor.upstairs_bathroom_temperature
          name: Bath
        - entity: sensor.bedroom_temperature
          name: Bedroom
        - entity: sensor.kyle_room_temperature
          name: Kyle
        - entity: sensor.lucas_room_temperature
          name: Lucas
      - humidity_entities:
        - entity: sensor.upstairs_bathroom_humidity
          name: Bath
        - entity: sensor.bedroom_humidity
          name: Bedroom
        - entity: sensor.kyle_room_humidity
          name: Kyle
        - entity: sensor.lucas_room_humidity
          name: Lucas
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:home-floor-2
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: upstairs
  theme: Backend-selected
  title: Upstairs
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - subtitle: "{%- set lights_on = states(\"sensor.lights_on_outdoors\")|int(default=0)\
          \ %}\n{{- states(\"weather.home\") }}\n{{- \" ‧ \" ~ states(\"sensor.backyard_temperature\"\
          )|round(default=0) }}°\n{{- \" ‧ \" ~ state_attr(\"weather.home\",\"humidity\"\
          ) }}%\n{%- set lock = states(\"lock.front_door\") %}\n{{- iif(lock != \"\
          locked\", \" ‧ front door is \" ~ lock, \"\") }}\n{%- if lights_on > 0 %}\n\
          \  {{- \" ‧ \" ~ iif(lights_on == 1, \"1 light on\", lights_on ~ \" lights\
          \ on\") }}\n{%- endif %}\n{{- iif(not is_state(\"cover.garage_door\",\"\
          closed\"), \" ‧ garage door is \" ~ states(\"cover.garage_door\"), \"\"\
          ) }}\n{{- iif(is_state(\"binary_sensor.front_door_person_occupancy\",\"\
          on\"), \" ‧ someone is at the front door\", \"\") }}"
        title: Outdoors
        type: custom:mushroom-title-card
      - cards:
        - entity: cover.garage_door
          name: Garage
          show_buttons_control: false
          show_position_control: false
          tap_action:
            action: more-info
          type: custom:mushroom-cover-card
        - entity: lock.front_door
          name: Door
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - collapsible_controls: true
          entity: light.porch
          show_brightness_control: true
          type: custom:mushroom-light-card
          use_light_color: true
        - collapsible_controls: true
          entity: light.path_lights
          icon: mdi:light-flood-down
          show_brightness_control: true
          show_color_control: false
          type: custom:mushroom-light-card
          use_light_color: false
        - collapsible_controls: true
          entity: light.driveway_flood
          icon: mdi:light-flood-down
          name: Driveway
          show_brightness_control: true
          tap_action:
            action: fire-dom-event
            browser_mod:
              data:
                content:
                  entities:
                  - entity: select.driveway_flood_mode
                    name: Flood mode
                  - entity: light.driveway_flood
                    name: Flood light
                  - entity: light.driveway_flood_accent
                    name: Accent light
                  - type: divider
                  - entity: binary_sensor.driveway_flood_motion
                    name: Motion
                  - entity: select.driveway_flood_motion_sensitivity
                    name: Motion sensitivity
                  - entity: number.driveway_flood_motion_delay
                    name: Delay
                  type: entities
                title: Driveway flood light
              service: browser_mod.popup
          type: custom:mushroom-light-card
        columns: 2
        square: false
        type: grid
      - alignment: center
        chips:
        - content: Adaptive lights
          entity: switch.adaptive_lighting_home_entry
          icon: mdi:toggle-switch{{ iif(is_state("switch.adaptive_lighting_home_entry","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("switch.adaptive_lighting_home_entry","on"),
            "blue", "grey") }}'
          type: template
        - content: Leave unlocked
          entity: input_boolean.leave_unlocked
          icon: mdi:toggle-switch{{ iif(is_state("input_boolean.leave_unlocked","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("input_boolean.leave_unlocked","on"), "blue",
            "grey") }}'
          type: template
        - content: Lights off
          entity: input_boolean.keep_outdoor_lights_off
          icon: mdi:toggle-switch{{ iif(is_state("input_boolean.keep_outdoor_lights_off","off"),
            "-off", "") }}
          icon_color: '{{ iif(is_state("input_boolean.keep_outdoor_lights_off","on"),
            "blue", "grey") }}'
          type: template
        type: custom:mushroom-chips-card
      - cards:
        - subtitle: Cameras
          type: custom:mushroom-title-card
        - tabs:
          - attributes:
              icon: mdi:car
            card:
              camera_image: camera.driveway_restream
              camera_view: live
              entity: camera.driveway_restream
              show_name: false
              show_state: false
              type: picture-entity
          - attributes:
              icon: mdi:door
            card:
              camera_image: camera.front_door_restream
              camera_view: live
              entity: camera.front_door_restream
              show_name: false
              show_state: false
              type: picture-entity
          - attributes:
              icon: mdi:bell-circle
            card:
              camera_image: camera.doorbell_restream
              camera_view: live
              entity: camera.doorbell_restream
              show_name: false
              show_state: false
              type: picture-entity
          type: custom:tabbed-card
        type: vertical-stack
      - cards:
        - camera_view: auto
          entity: camera.front_door_person
          show_name: true
          show_state: true
          type: picture-entity
        - camera_image: ''
          camera_view: auto
          entity: camera.doorbell_person
          show_name: true
          show_state: false
          type: picture-entity
        - camera_image: ''
          camera_view: auto
          entity: camera.driveway_person
          show_name: true
          show_state: false
          type: picture-entity
        columns: 3
        square: true
        type: grid
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - subtitle: ''
        title: Motion
        type: custom:mushroom-title-card
      - entities:
        - entity: binary_sensor.front_yard_motion
          secondary_info: last-changed
        - entity: binary_sensor.front_yard_person_occupancy
          secondary_info: last-changed
        - entity: binary_sensor.driveway_parking_person_occupancy
          secondary_info: last-changed
        - entity: binary_sensor.driveway_flood_motion
          secondary_info: last-changed
        - type: divider
        - entity: timer.front_door_driveway_lights
        - entity: automation.illuminate_front_entry
          secondary_info: last-triggered
        type: entities
      - entities:
        - entity: binary_sensor.front_yard_motion
          name: Template
        - entity: binary_sensor.front_yard_person_occupancy
          name: Yard
        - entity: binary_sensor.driveway_parking_person_occupancy
          name: Parking
        - entity: binary_sensor.driveway_flood_motion
          name: Flood
        hours_to_show: 0.25
        type: history-graph
      type: vertical-stack
    - entity: mediaquery
      states:
        '(min-width: 500px)':
          template: weather
          type: custom:decluttering-card
      type: custom:state-switch
    type: vertical-stack
  icon: mdi:flower
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: outdoor
  theme: Backend-selected
  title: Outdoor
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - subtitle: Alert when temperatures go above the set threshold.
        title: Fridge alerts
        type: custom:mushroom-title-card
      - cards:
        - entity: automation.fridge_freezer_temperature_alert
          icon_color: orange
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - entities:
        - entity: input_number.fridge_temperature_threshold
          max: 65
          min: 50
          name: Fridge threshold
          service: input_number.set_value
          step: 1
          type: custom:numberbox-card
        - entity: input_number.freezer_temperature_threshold
          max: 25
          min: 10
          name: Freezer threshold
          service: input_number.set_value
          step: 1
          type: custom:numberbox-card
        type: entities
      type: vertical-stack
    - cards:
      - subtitle: Pew pew, woo woo.
        title: Glowforge
        type: custom:mushroom-title-card
      - card:
          cards:
          - cards:
            - entity: input_select.glowforge_status
              type: custom:mushroom-entity-card
            - entity: switch.glowforge_button
              type: custom:mushroom-entity-card
            columns: 2
            square: false
            type: grid
          - camera_image: camera.glowforge
            camera_view: live
            entity: camera.glowforge
            show_name: false
            show_state: false
            type: picture-entity
          - entities:
            - entity: input_boolean.glowforge_announce_complete
              name: Announce when complete
            - entity: switch.docker_wyze_bridge
              icon: mdi:docker
            - entity: switch.glowforge_camera
              icon: mdi:cctv
            - type: divider
            - entity: sensor.glowforge_power_monitor_power
              icon: mdi:power-plug
              name: Power monitor
            - type: divider
            - name: Glowforge App
              type: weblink
              url: https://app.glowforge.com
            type: entities
          type: vertical-stack
        conditions:
        - entity: input_select.glowforge_status
          state: 'On'
        type: conditional
      - card:
          cards:
          - cards:
            - entity: input_select.glowforge_status
              name: Status
              type: custom:mushroom-entity-card
            columns: 2
            square: false
            type: grid
          - alignment: center
            chips:
            - content: Glowforge App
              icon: mdi:link
              tap_action:
                action: url
                url_path: https://app.glowforge.com
              type: template
            type: custom:mushroom-chips-card
          type: vertical-stack
        conditions:
        - entity: input_select.glowforge_status
          state: 'Off'
        type: conditional
      type: vertical-stack
    - cards:
      - subtitle: Prusa MK2.5s
        title: 3D printer
        type: custom:mushroom-title-card
      - cards:
        - entity: switch.prusa
          icon_color: red
          tap_action:
            action: toggle
            confirmation:
              text: Are you sure you want to change the power state of the 3D Printer?
          type: custom:mushroom-entity-card
        columns: 2
        name: Power toggle
        square: false
        type: grid
      - card:
          cards:
          - camera_image: camera.prusa
            camera_view: camera.prusa
            entities:
            - sensor.octoprint_current_state
            - camera.prusa
            entity: sensor.octoprint_current_state
            state_filter:
              Operational: grayscale(100%)
              Printing: brightness(110%) saturate(1.2)
            tap_action:
              action: call-service
              service: browser_mod.more_info
              service_data:
                deviceID:
                - this
                entity_id: camera.prusa
            title: Prusa Mk2.5s
            type: picture-glance
          - entities:
            - entities:
              - entity: sensor.octoprint_current_state
                name: Run State
              - entity: binary_sensor.octoprint_printing_error
                name: Error State
              entity: sensor.octoprint_current_state
              icon: mdi:printer-3d
              name: Status
              show_state: false
              type: custom:multiple-entity-row
            - entities:
              - entity: sensor.octoprint_job_percentage
                name: Complete
              - entity: sensor.octoprint_time_elapsed
                name: Elapsed
              - entity: sensor.octoprint_time_remaining
                name: Remaining
              entity: sensor.octoprint_job_percentage
              icon: mdi:timer-outline
              name: Progress
              show_state: false
              type: custom:multiple-entity-row
            - entity: sensor.prusa_power_monitor_power
              name: Power
            - entity: automation.3d_print_status_update
              icon: mdi:cellphone-message
              name: Notify On Status Change
              show_state: false
            type: custom:hui-entities-card
          type: vertical-stack
        conditions:
        - entity: input_select.glowforge_status
          state_not: 'Off'
        type: conditional
      - alignment: center
        chips:
        - content: Octoprint UI
          icon: mdi:link
          tap_action:
            action: url
            url_path: http://octopi.local
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - subtitle: Volatile organic compounds
        title: Air quality
        type: custom:mushroom-title-card
      - template: graph
        type: custom:decluttering-card
        variables:
        - name: VOCs
        - icon: mdi:air-filter
        - hours: 12
        - entity1: sensor.family_room_voc_density
        - entities:
          - entity: sensor.bedroom_voc_density
            format: precision0
            name: Bedroom
          - entity: sensor.family_room_voc_density
            format: precision0
            name: Family room
      type: vertical-stack
    - cards:
      - subtitle: ''
        title: House temperatures
        type: custom:mushroom-title-card
      - tabs:
        - attributes:
            icon: hass:home-thermometer
          card:
            entities:
            - entity: weather.home
              name: Outdoor
            - entity: sensor.attic_temperature
              icon: hass:home-floor-a
            - entity: sensor.upstairs_temperature_average
              icon: hass:home-floor-2
              name: Upstairs average
            - entity: sensor.downstairs_temperature_average
              icon: hass:home-floor-1
              name: Downstairs average
            type: entities
        - attributes:
            icon: hass:home-floor-1
          card:
            aggregate_func: max
            animate: true
            entities:
            - entity: sensor.downstairs_temperature_average
              name: Avg
            - entity: sensor.family_room_temperature
              name: Family
            - entity: sensor.kitchen_temperature
              name: Kitchen
            - entity: sensor.home_thermostat_temperature
              name: Thermostat
            height: 88
            icon: hass:home-floor-1
            line_width: 2
            lower_bound: 60
            points_per_hour: 4
            show:
              extrema: true
              graph: line
              icon: false
              name: false
              state: false
            type: custom:mini-graph-card
        - attributes:
            icon: hass:home-floor-2
          card:
            aggregate_func: max
            animate: true
            entities:
            - entity: sensor.upstairs_temperature_average
              name: Avg
            - entity: sensor.bedroom_temperature
              name: Bed
            - entity: sensor.kyle_room_temperature
              name: Kyle
            - entity: sensor.lucas_room_temperature
              name: Lucas
            - entity: sensor.guest_room_temperature
              name: Guest
            - entity: sensor.upstairs_bathroom_temperature
              name: Bath
            height: 88
            icon: mdi:home-floor-2
            line_width: 2
            lower_bound: 60
            name: Upstairs temperature
            points_per_hour: 4
            show:
              extrema: true
              graph: line
              icon: false
              name: false
              state: false
            type: custom:mini-graph-card
        type: custom:tabbed-card
      type: vertical-stack
    - cards:
      - subtitle: Monitor fridge and freezer temperatures.
        title: Refridgerators
        type: custom:mushroom-title-card
      - cards:
        - template: graph
          type: custom:decluttering-card
          variables:
          - name: Fridge
          - icon: mdi:fridge-bottom
          - hours: 12
          - entity1: sensor.fridge_temperature
          - entities:
            - entity: sensor.fridge_temperature
              name: Kitchen
            - entity: sensor.garage_fridge_temperature
              name: Garage
        - template: graph
          type: custom:decluttering-card
          variables:
          - name: Freezer
          - icon: mdi:fridge-top
          - hours: 12
          - entity1: sensor.freezer_temperature
          - entities:
            - entity: sensor.freezer_temperature
              name: Kitchen
            - entity: sensor.garage_freezer_temperature
              name: Garage
        columns: 1
        square: false
        type: grid
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:speedometer-slow
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: monitor
  theme: Backend-selected
  title: Monitor
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - subtitle: Events
      title: Schedules
      type: custom:mushroom-title-card
    - tabs:
      - attributes:
          icon: mdi:weather-sunset-up
          label: Wakeup
        card:
          cards:
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Brian
            - id: wakeup_brian
            - sensors:
              - binary_sensor.middle_school_day
              - binary_sensor.high_school_day
          - cards:
            - subtitle: Nerene (manual)
              title: ''
              type: custom:mushroom-title-card
            - entity: timer.nerene_wakeup_light
              type: tile
            type: vertical-stack
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Nerene (work day)
            - id: wakeup_nerene
            - sensors:
              - binary_sensor.work_day
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Nerene (work day modified)
            - id: wakeup_nerene_modified
            - sensors:
              - binary_sensor.work_day_modified
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Kyle
            - id: wakeup_kyle
            - sensors:
              - binary_sensor.middle_school_day
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Lucas
            - id: wakeup_lucas
            - sensors:
              - binary_sensor.high_school_day
          type: vertical-stack
      - attributes:
          icon: mdi:bed
          label: Bedtime
        card:
          cards:
          - template: event
            type: custom:decluttering-card
            variables:
            - label: School day tomorrow
            - id: bedtime_boys_schoolday
            - sensors:
              - binary_sensor.middle_school_day_tomorrow
              - binary_sensor.high_school_day_tomorrow
          - template: event
            type: custom:decluttering-card
            variables:
            - label: Day off tomorrow
            - id: bedtime_boys_dayoff
            - sensors:
              - binary_sensor.middle_school_day
              - binary_sensor.high_school_day
          type: vertical-stack
      type: custom:tabbed-card
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - subtitle: Front yard drip system
        title: Irrigation controller
        type: custom:mushroom-title-card
      - cards:
        - entity: switch.front_yard_drip
          icon: mdi:sprinkler-variant
          name: Start cycle
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - card:
          bar_background: 'var(--mdc-theme-primary, #6200ee)'
          bar_direction: rtl
          bar_foreground: '#eee'
          duration:
            entity: number.front_yard_drip_duration
            units: minutes
          entity: switch.front_yard_drip
          full_row: true
          text_width: 0px
          type: custom:timer-bar-card
        conditions:
        - entity: switch.front_yard_drip
          state: 'on'
        type: conditional
      - entities:
        - entities:
          - entity: sensor.front_yard_drip_next
            name: Next 🕑
          - entity: sensor.front_yard_drip_remaining
            name: Remaining ⏳
            unit: min
          entity: switch.front_yard_drip
          icon: mdi:sprinkler
          name: Status
          state_header: State
          type: custom:multiple-entity-row
        - entity: number.front_yard_drip_duration
          max: 10
          min: 0
          secondary_info: <i>Set to 0 to disable.</i>
          service: number.set_value
          step: 1
          type: custom:numberbox-card
        - entity: input_text.front_yard_drip_times
        show_header_toggle: false
        type: entities
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:calendar-clock
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: events
  theme: Backend-selected
  title: Schedules
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - title: Actions
        type: custom:mushroom-title-card
      - alignment: justify
        chips:
        - content: Reboot VM
          icon: mdi:power-standby
          icon_color: orange
          tap_action:
            action: call-service
            confirmation:
              text: Are you sure you want to Reboot the Virtual Machine?
            service: script.reboot_server
            target: {}
          type: template
        - content: Restart HA
          icon: mdi:restart-alert
          icon_color: orange
          tap_action:
            action: call-service
            confirmation:
              text: Are you sure you want to Restart Home Assistant?
            service: script.restart_home_assistant
            target: {}
          type: template
        type: custom:mushroom-chips-card
      - alignment: justify
        chips:
        - content: Entity counts
          icon: mdi:cog-refresh
          icon_color: grey
          tap_action:
            action: call-service
            data: {}
            service: script.turn_on
            target:
              entity_id: script.refresh_entity_count_sensors
          type: template
        - content: Version sensors
          icon: mdi:cog-refresh
          icon_color: grey
          tap_action:
            action: call-service
            data: {}
            service: script.turn_on
            target:
              entity_id: script.refresh_version_sensors
          type: template
        - content: Missing
          icon: mdi:shield-refresh
          icon_color: grey
          tap_action:
            action: call-service
            service: watchman.report
            service_data: {}
            target: {}
          type: template
        type: custom:mushroom-chips-card
      - alignment: justify
        chips:
        - content: Generate readme
          icon: mdi:github
          icon_color: grey
          tap_action:
            action: call-service
            service: script.turn_on
            service_data: {}
            target:
              entity_id: script.generate_readme
          type: template
        - content: Generate secrets
          icon: mdi:thought-bubble
          icon_color: grey
          tap_action:
            action: call-service
            service: script.turn_on
            service_data: {}
            target:
              entity_id: script.generate_fake_secrets
          type: template
        - content: Edit
          icon: mdi:pencil
          icon_color: orange
          tap_action:
            action: navigate
            navigation_path: ./home?disable_km&edit=1
          type: template
        type: custom:mushroom-chips-card
      type: vertical-stack
    - cards:
      - title: Problems
        type: custom:mushroom-title-card
      - entities:
        - entities:
          - entity: sensor.unknown_count
            name: Unknown
          - entity: sensor.unavailable_count
            name: Unavailable
            unit: ' '
          entity: sensor.unavailable_count
          icon: mdi:folder-question
          name: Problems
          show_state: false
          type: custom:multiple-entity-row
        - entities:
          - entity: sensor.watchman_missing_entities
            name: Entities
            unit: ' '
          - entity: sensor.watchman_missing_services
            name: Services
            unit: ' '
          entity: sensor.unavailable_count
          icon: mdi:folder-hidden
          name: Missing
          show_state: false
          type: custom:multiple-entity-row
        type: entities
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - subtitle: ''
        title: Home Assistant
        type: custom:mushroom-title-card
      - content: '{{ states("sensor.update_message") }}

          '
        entity_id: sensor.updates
        style: "ha-card {\n  background: rgba(255, 165, 0, 0.1);\n}\n:host {\n  display:\
          \ {{ \"block\" if states(\"sensor.updates\")|int(default=0) > 0 else \"\
          none\" }}\n}\n"
        type: markdown
      - tabs:
        - attributes:
            icon: mdi:information
            label: Information
          card:
            cards:
            - entities:
              - entities:
                - attribute: installed_version
                  entities:
                  - entity: sensor.latest_beta
                    name: Beta
                  - entity: sensor.latest_release
                    name: Stable
                  entity: update.home_assistant_core_update
                  icon: mdi:cog-box
                  name: Core
                  state_header: Installed
                  type: custom:multiple-entity-row
                - attribute: installed_version
                  entities:
                  - attribute: latest_version
                    entity: update.home_assistant_operating_system_update
                    name: Latest
                  entity: update.home_assistant_operating_system_update
                  icon: mdi:linux
                  name: OS
                  state_header: Installed
                  type: custom:multiple-entity-row
                - attribute: installed_version
                  entities:
                  - attribute: latest_version
                    entity: update.home_assistant_supervisor_update
                    name: Latest
                  entity: update.home_assistant_supervisor_update
                  icon: mdi:docker
                  name: Supervisor
                  state_header: Installed
                  type: custom:multiple-entity-row
                head:
                  entities:
                  - attribute: home_assistant_update_count
                    entity: sensor.updates
                    name: Core
                  - entity: sensor.hacs_updates
                    name: HACS
                    unit: ' '
                  - entity: sensor.addon_updates
                    name: Addons
                  - entity: sensor.updates
                    name: TOTAL
                  entity: sensor.updates
                  icon: mdi:update
                  name: Updates
                  show_state: false
                  type: custom:multiple-entity-row
                type: custom:fold-entity-row
              - entities:
                - entities:
                  - entity: sensor.last_restart
                    format: total
                    name: Core
                  - entity: sensor.last_boot
                    format: total
                    name: VM
                  entity: sensor.last_boot
                  icon: mdi:power
                  name: Last restart
                  secondary_info: null
                  show_state: false
                  type: custom:multiple-entity-row
                - entities:
                  - entity: sensor.processor_use
                    name: CPU
                  - entity: sensor.disk_use_percent
                    name: Disk
                  - entity: sensor.memory_use_percent
                    format: precision0
                    name: RAM
                  entity: sensor.processor_use
                  name: VM resources used
                  show_state: false
                  type: custom:multiple-entity-row
                - entities:
                  - entity: sensor.backup_state
                    name: State
                  - entity: binary_sensor.backups_stale
                    name: Current?
                  entity: sensor.backup_state
                  icon: mdi:cloud-upload
                  name: Backups
                  show_state: false
                  type: custom:multiple-entity-row
                head:
                  entities:
                  - entity: sensor.backup_state
                    name: Backup
                  - entity: sensor.disk_use_percent
                    name: Disk
                  - entity: sensor.last_restart
                    format: total
                    name: Last_restart
                  entity: sensor.updates
                  icon: mdi:information
                  name: Status
                  show_state: false
                  type: custom:multiple-entity-row
                type: custom:fold-entity-row
              - entities:
                - card:
                    canary_style:
                      border: 0
                    columns: 6
                    show_name: false
                    type: glance
                  filter:
                    exclude:
                    - entity_id: sensor.automation_count
                    - entity_id: sensor.code_line_count
                    - entity_id: sensor.domain_count
                    - entity_id: sensor.entity_count
                    - entity_id: sensor.script_count
                    - entity_id: sensor.unavailable_count
                    - entity_id: sensor.unknown_count
                    - integration: frigate
                    include:
                    - entity_id: sensor.*_count
                  no_card: true
                  sort:
                    method: state
                    numeric: true
                    reverse: true
                  type: custom:auto-entities
                head:
                  entities:
                  - entity: sensor.entity_count
                    name: Entities
                  - entity: sensor.domain_count
                    name: Domains
                  - entity: sensor.automation_count
                    name: Automations
                  - entity: sensor.script_count
                    name: Scripts
                  entity: sensor.entity_count
                  name: Entity counts
                  show_state: false
                  type: custom:multiple-entity-row
                padding: 0
                type: custom:fold-entity-row
              type: entities
            - alignment: center
              chips:
              - content: Release notes
                icon: mdi:link
                tap_action:
                  action: url
                  url_path: https://www.home-assistant.io/latest-release-notes/
                type: template
              - content: Beta notes
                icon: mdi:link
                tap_action:
                  action: url
                  url_path: https://rc.home-assistant.io/latest-release-notes/
                type: template
              - content: RC notes
                icon: mdi:link
                tap_action:
                  action: url
                  url_path: https://github.com/home-assistant/home-assistant.io/blob/rc/source/_posts/
                type: template
              type: custom:mushroom-chips-card
            type: vertical-stack
        - attributes:
            icon: mdi:ethernet
            label: Network
          card:
            cards:
            - entities:
              - entities:
                - entities:
                  - entity: schedule.computer_school
                    name: School
                  - entity: schedule.computer_vacation
                    name: Vacation
                  entity: schedule.computer_school
                  name: Schedules
                  show_state: false
                  type: custom:multiple-entity-row
                - entities:
                  - entity: binary_sensor.school_vacation_today
                    name: Today
                  - entity: binary_sensor.school_vacation_tomorrow
                    name: Tomorrow
                  entity: binary_sensor.school_vacation_today
                  name: Vacation
                  show_state: false
                  type: custom:multiple-entity-row
                - entity: timer.network_off
                  name: Network off timer
                head:
                  entities:
                  - entity: switch.gaming_pc_redpc
                    name: Red PC
                    toggle: true
                  - entity: switch.gaming_pc_bluepc
                    name: Blue PC
                    toggle: true
                  - entity: switch.gaming_pc_greenpc
                    name: Green PC
                    toggle: true
                  - entity: switch.gaming_pc_blackpc
                    name: Black PC
                    toggle: true
                  entity: schedule.computer_school
                  icon: mdi:ethernet
                  name: Network access
                  show_state: false
                  type: custom:multiple-entity-row
                type: custom:fold-entity-row
              - type: divider
              - entities:
                - entity: sensor.unifi_gateway_wan
                  name: WAN
                - entity: sensor.unifi_gateway_wlan
                  name: WLAN
                - entity: sensor.unifi_gateway_lan
                  name: LAN
                entity: sensor.unifi_gateway_www
                name: Connectivity
                secondary_info:
                  entity: sensor.unifi_gateway_www
                  name: ''
                show_state: false
                type: custom:multiple-entity-row
              - entities:
                - entity: sensor.unifi_gateway_firmware_upgradable
                  name: Upgrades
                - entity: sensor.unifi_gateway_alerts
                  name: Alerts
                entity: sensor.unifi_gateway_wan
                name: Status
                show_state: false
                type: custom:multiple-entity-row
              type: entities
            - alignment: center
              chips:
              - content: Smart schedule
                entity: automation.schedule_school_pc
                icon: mdi:toggle-switch{{ iif(is_state("automation.schedule_school_pc","off"),
                  "-off", "") }}
                icon_color: '{{ iif(is_state("automation.schedule_school_pc","on"),
                  "blue", "grey") }}'
                type: template
              - content: Restart unifi
                entity: binary_sensor.docker_unifi_controller
                icon: mdi:docker
                icon_color: '{{ iif(is_state("binary_sensor.docker_unifi_controller","on"),
                  "blue", "grey") }}'
                type: template
              - content: UniFi
                icon: mdi:link
                tap_action:
                  action: url
                  url_path: https://unraid.local:8443
                type: template
              type: custom:mushroom-chips-card
            type: vertical-stack
        type: custom:tabbed-card
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:server
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: system
  subview: true
  theme: Backend-selected
  title: System
  type: custom:grid-layout
  visible:
  - user: dd8d7d8c949148fa945f68d1c2a1a0d5
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - cards:
      - subtitle: Default volume.
        title: Notification settings
        type: custom:mushroom-title-card
      - cards:
        - entity: input_boolean.mobile_notifications
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.audio_notifications
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.cooler_outside_notification
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.warmer_outside_notification
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      - entities:
        - card:
            entity: input_number.default_announcement_volume
            name: Announcements
          row: true
          type: custom:restriction-card
        - card:
            entity: input_number.default_audio_volume
            name: Sound only
          row: true
          type: custom:restriction-card
        type: custom:hui-entities-card
      type: vertical-stack
    - cards:
      - subtitle: Critical alerts excluded.
        title: Quiet time
        type: custom:mushroom-title-card
      - entity: binary_sensor.noncritical_alert_quiet_time
        type: custom:mushroom-entity-card
      - entities:
        - card:
            entity: input_number.quiet_hour_start
            name: Start
          row: true
          type: custom:restriction-card
        - card:
            entity: input_number.quiet_hour_end
            name: End
          row: true
          type: custom:restriction-card
        type: entities
      type: vertical-stack
    type: vertical-stack
    view_layout: grid-area:sidebar
  - cards:
    - cards:
      - subtitle: Enable & disable automated features.
        title: Mode overrides
        type: custom:mushroom-title-card
      - cards:
        - entity: input_boolean.guest_mode
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.leave_unlocked
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: input_boolean.away_mode
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      type: vertical-stack
    - cards:
      - subtitle: One time actions.
        title: Routines
        type: custom:mushroom-title-card
      - cards:
        - entity: switch.hot_water_pump
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: switch.printer
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      type: vertical-stack
    - cards:
      - subtitle: Toggle miscellaneous devices.
        title: Other devices
        type: custom:mushroom-title-card
      - cards:
        - entity: script.goodbye_routine
          icon: mdi:exit-run
          name: Goodbye
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        - entity: script.goodnight_routine
          icon: mdi:weather-night
          name: Goodnight
          tap_action:
            action: toggle
          type: custom:mushroom-entity-card
        columns: 2
        square: false
        type: grid
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: main
  icon: mdi:robot
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: routines
  subview: true
  theme: Backend-selected
  title: Routines
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - subtitle: Tap away from message box before tapping announce.
      title: Speech notifications
      type: custom:mushroom-title-card
    - entities:
      - entity: input_select.tts_phrase_room
      - entity: input_select.tts_phrases
      - entity: input_text.tts_phrase
      footer:
        entities:
        - entity: script.tts_phrase_say
          icon: mdi:account-voice
          name: Say
        - entity: script.repeat_last_message
          icon: mdi:refresh-circle
          name: Last message
        type: buttons
      show_header_toggle: false
      type: entities
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - entities:
      - entity: input_boolean.audio_notifications
      - entity: binary_sensor.noncritical_alert_quiet_time
        secondary_info: last-changed
      - card:
          entity: input_number.default_announcement_volume
          name: Default Annc. Vol.
        row: true
        type: custom:restriction-card
      type: entities
    - entities:
      - entity: sensor.last_message
        icon: ''
        name: Last message
      - attribute: target
        entity: sensor.last_message
        icon: mdi:cast-audio-variant
        name: Announced on
        type: attribute
      show_header_toggle: false
      state_color: false
      type: entities
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:cast-audio
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: smart-speakers
  subview: true
  theme: Backend-selected
  title: Smart speakers
  type: custom:grid-layout
- badges: []
  cards:
  - template: top_chips
    type: custom:decluttering-card
    view_layout:
      grid-area: header
  - cards:
    - subtitle: ''
      title: Family birthdays and anniversaries
      type: custom:mushroom-title-card
    - card:
        type: entities
      filter:
        include:
        - attributes:
            weeks_remaining: '! none'
          domain: sensor
          options:
            column: false
            entities:
            - attribute: weeks_remaining
              name: Remaining
              unit: weeks
            - attribute: date
              format: date
            show_state: false
            type: custom:multiple-entity-row
            unit: days
      show_empty: true
      sort:
        method: state
        numeric: true
      type: custom:auto-entities
    type: vertical-stack
    view_layout:
      grid-area: main
  - cards:
    - cards:
      - title: Holidays
        type: custom:mushroom-title-card
      - card:
          type: entities
        filter:
          include:
          - attributes:
              type: Holiday
            domain: sensor
            options:
              entities:
              - attribute: friendly_date
              show_state: false
              type: custom:multiple-entity-row
        sort:
          method: state
        type: custom:auto-entities
      type: vertical-stack
    - cards:
      - cards:
        - subtitle: Edit files in /integration_entities/binary_sensors/datetime.
          title: School dates
          type: custom:mushroom-title-card
        type: horizontal-stack
      - cards:
        - cards:
          - entities:
            - entity: binary_sensor.middle_school_day
              name: Middle school
            - entity: binary_sensor.high_school_day
              name: High school
            - entity: binary_sensor.holiday
              name: Public holiday
            show_state: false
            type: glance
          type: vertical-stack
        type: vertical-stack
      - subtitle: Edit file in /integration_entities/template/sensors/datetime.
        title: ''
        type: custom:mushroom-title-card
      - entities:
        - attribute: next_modified_day
          entity: sensor.high_school_day_modified_schedule
          name: Next high school modified day
          type: custom:multiple-entity-row
        type: entities
      - subtitle: Manually set
        title: ''
        type: custom:mushroom-title-card
      - cards:
        - entities:
          - entity: input_datetime.high_school_summer_begin
            name: High school last day
          - entity: input_datetime.high_school_summer_ends
            name: High school first day
          show_icon: false
          type: glance
        - entities:
          - entity: input_datetime.school_summer_begin
            name: Middle school last day
          show_icon: false
          type: glance
        type: vertical-stack
      type: vertical-stack
    type: vertical-stack
    view_layout:
      grid-area: sidebar
  icon: mdi:cake-variant
  layout:
    grid-template-areas: '"header header"

      "main sidebar"

      "main sidebar"

      '
    grid-template-columns: auto 40%
    grid-template-rows: auto
    mediaquery:
      '(max-width: 700px)':
        grid-template-areas: '"header"

          "main"

          "sidebar"

          '
        grid-template-columns: 100%
  path: family-dates
  subview: true
  theme: Backend-selected
  title: Family dates
  type: custom:grid-layout
